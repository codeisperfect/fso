var vinfo = { 1:{status:200, vehicle_map:[{id:19, base_fare:0, threshold_distances:"[]", threshold_fares:"[30.0]", free_waiting_mins:0, waiting_rate_per_min:0, travel_rate_per_min:0, max_waiting_charge_per_day:0, premium_discount:0, min_premium_fare:0, vehicle_id:4, geo_region_id:1, waypoint_rate:0, night_holding_charge:0, extra_point_charge:0, ride_time_charge:0, size:null, capacity:null, status:"active", vehicle:{id:4, vehicle_type:"Tata 17ft", daily_pro_rata:1786, overtime_allowance:300}}, {id:1, base_fare:200, threshold_distances:"[2]", threshold_fares:"[0.0, 15.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:150, min_premium_fare:0, vehicle_id:1, geo_region_id:1, waypoint_rate:0, night_holding_charge:800, extra_point_charge:50, ride_time_charge:2, size:"7ft x 4.5ft x 6ft", capacity:"750 Kg", status:"active", vehicle:{id:1,


vehicle_type:"Tata Ace", daily_pro_rata:1300, overtime_allowance:200}}, {id:2, base_fare:400, threshold_distances:"[2]", threshold_fares:"[0.0, 25.0]", free_waiting_mins:120, waiting_rate_per_min:4, travel_rate_per_min:4, max_waiting_charge_per_day:1500, premium_discount:0, min_premium_fare:2000, vehicle_id:2, geo_region_id:1, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:50, ride_time_charge:4, size:"9.5ft x 5.5ft x 6ft", capacity:"2500 Kgs", status:"active", vehicle:{id:2, vehicle_type:"Tata 407", daily_pro_rata:1786, overtime_allowance:300}}, {id:3, base_fare:600, threshold_distances:"[2]", threshold_fares:"[0.0, 25.0]", free_waiting_mins:120, waiting_rate_per_min:4, travel_rate_per_min:4, max_waiting_charge_per_day:1500, premium_discount:0, min_premium_fare:0, vehicle_id:3, geo_region_id:1, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:50, ride_time_charge:4, size:"4ft x 5.5ft x 7ft", capacity:"3 tonnes", status:"active", vehicle:{id:3, vehicle_type:"Tata 407 14ft", daily_pro_rata:1786, overtime_allowance:300}}, {id:5, base_fare:1000, threshold_distances:"[2]", threshold_fares:"[0.0, 30.0]", free_waiting_mins:120, waiting_rate_per_min:5, travel_rate_per_min:5, max_waiting_charge_per_day:1500, premium_discount:0, min_premium_fare:0, vehicle_id:5, geo_region_id:1, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:50, ride_time_charge:5, size:"19ft x 6ft x 7ft", capacity:"9-10 tonnes", status:"active", vehicle:{id:5, vehicle_type:"Tata 19ft", daily_pro_rata:1786, overtime_allowance:300}}, {id:11, base_fare:250, threshold_distances:"[2]", threshold_fares:"[0.0, 15.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:150, min_premium_fare:0, vehicle_id:8, geo_region_id:1, waypoint_rate:0, night_holding_charge:800, extra_point_charge:50, ride_time_charge:2, size:"8.2ft x 5.3ft x 4.9ft", capacity:"1.5 ton", status:"active", vehicle:{id:8, vehicle_type:"Pickup / 8ft", daily_pro_rata:1300, overtime_allowance:200}}]}, 2:{status:200, vehicle_map:[{id:8, base_fare:200, threshold_distances:"[2]", threshold_fares:"[0.0, 10.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:100, min_premium_fare:0, vehicle_id:7, geo_region_id:2, waypoint_rate:0, night_holding_charge:800, extra_point_charge:0, ride_time_charge:2, size:"5.2ft x 4.8ft x 3.4ft", capacity:"0.8 ton", status:"active", vehicle:{id:7, vehicle_type:"Eeco", daily_pro_rata:1300, overtime_allowance:200}}, {id:7, base_fare:250, threshold_distances:"[2]", threshold_fares:"[0.0, 12.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:100, min_premium_fare:0, vehicle_id:6, geo_region_id:2, waypoint_rate:0, night_holding_charge:800, extra_point_charge:0, ride_time_charge:2, size:"6.3ft x 4.7ft x 4.9ft", capacity:"0.8 ton", status:"active", vehicle:{id:6, vehicle_type:"Champion", daily_pro_rata:1300, overtime_allowance:200}}, {id:6, base_fare:300, threshold_distances:"[2]", threshold_fares:"[0.0, 12.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:100, min_premium_fare:0, vehicle_id:1, geo_region_id:2, waypoint_rate:0, night_holding_charge:800, extra_point_charge:0, ride_time_charge:2, size:"7.2ft x 4.9ft x 4.9ft", capacity:"1.0 ton", status:"active", vehicle:{id:1, vehicle_type:"Tata Ace", daily_pro_rata:1300, overtime_allowance:200}}, {id:10, base_fare:700, threshold_distances:"[2]", threshold_fares:"[0.0, 25.0]", free_waiting_mins:120, waiting_rate_per_min:4, travel_rate_per_min:4, max_waiting_charge_per_day:1500, premium_discount:0, min_premium_fare:0, vehicle_id:3, geo_region_id:2, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:0, ride_time_charge:4, size:"13.3ft x 6.7ft x 5.9ft", capacity:"3.5 ton", status:"active", vehicle:{id:3, vehicle_type:"Tata 407 14ft", daily_pro_rata:1786, overtime_allowance:300}}]}, 3:{status:200, vehicle_map:[{id:14, base_fare:250, threshold_distances:"[2]", threshold_fares:"[0.0,15.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:100, min_premium_fare:0, vehicle_id:9, geo_region_id:3, waypoint_rate:0, night_holding_charge:800, extra_point_charge:0, ride_time_charge:2, size:null, capacity:null, status:"active", vehicle:{id:9, vehicle_type:"Pickup / Dost / Super Ace / 8ft", daily_pro_rata:0, overtime_allowance:0}}, {id:18, base_fare:600, threshold_distances:"[2]", threshold_fares:"[0.0, 25.0]", free_waiting_mins:120, waiting_rate_per_min:3, travel_rate_per_min:3, max_waiting_charge_per_day:1500, premium_discount:100, min_premium_fare:0, vehicle_id:11, geo_region_id:3, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:0, ride_time_charge:3, size:null, capacity:null, status:"active", vehicle:{id:11, vehicle_type:"Canter / 14ft", daily_pro_rata:0, overtime_allowance:0}}, {id:12, base_fare:200, threshold_distances:"[2]", threshold_fares:"[0.0,15.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:100, min_premium_fare:0, vehicle_id:1, geo_region_id:3, waypoint_rate:0, night_holding_charge:800, extra_point_charge:0, ride_time_charge:2, size:"7.2ft x 4.9ft x 4.9ft", capacity:"1.0 ton", status:"active", vehicle:{id:1, vehicle_type:"Tata Ace", daily_pro_rata:1300, overtime_allowance:200}}, {id:17, base_fare:400, threshold_distances:"[2]", threshold_fares:"[0.0, 25.0]", free_waiting_mins:120, waiting_rate_per_min:3, travel_rate_per_min:3, max_waiting_charge_per_day:1500, premium_discount:100, min_premium_fare:0, vehicle_id:2, geo_region_id:3, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:0, ride_time_charge:3, size:"9.5ft x 5.5ft x 6ft", capacity:"2500 Kgs", status:"active", vehicle:{id:2, vehicle_type:"Tata 407", daily_pro_rata:1786, overtime_allowance:300}}]}, 4:{status:200, vehicle_map:[{id:19, base_fare:0, threshold_distances:"[]", threshold_fares:"[30.0]", free_waiting_mins:0, waiting_rate_per_min:0, travel_rate_per_min:0, max_waiting_charge_per_day:0, premium_discount:0, min_premium_fare:0, vehicle_id:4, geo_region_id:1, waypoint_rate:0, night_holding_charge:0, extra_point_charge:0, ride_time_charge:0, size:null, capacity:null, status:"active", vehicle:{id:4, vehicle_type:"Tata 17ft", daily_pro_rata:1786, overtime_allowance:300}}, {id:1, base_fare:200, threshold_distances:"[2]", threshold_fares:"[0.0, 15.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:150, min_premium_fare:0, vehicle_id:1, geo_region_id:1, waypoint_rate:0, night_holding_charge:800, extra_point_charge:50, ride_time_charge:2, size:"7ft x 4.5ft x 6ft", capacity:"750 Kg", status:"active", vehicle:{id:1, vehicle_type:"Tata Ace", daily_pro_rata:1300, overtime_allowance:200}}, {id:2, base_fare:400, threshold_distances:"[2]", threshold_fares:"[0.0, 25.0]", free_waiting_mins:120, waiting_rate_per_min:4, travel_rate_per_min:4, max_waiting_charge_per_day:1500, premium_discount:0, min_premium_fare:2000, vehicle_id:2, geo_region_id:1, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:50, ride_time_charge:4, size:"9.5ft x 5.5ft x 6ft", capacity:"2500 Kgs", status:"active", vehicle:{id:2, vehicle_type:"Tata 407", daily_pro_rata:1786, overtime_allowance:300}}, {id:3, base_fare:600, threshold_distances:"[2]", threshold_fares:"[0.0, 25.0]", free_waiting_mins:120, waiting_rate_per_min:4, travel_rate_per_min:4, max_waiting_charge_per_day:1500, premium_discount:0, min_premium_fare:0, vehicle_id:3, geo_region_id:1, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:50, ride_time_charge:4, size:"4ft x 5.5ft x 7ft", capacity:"3 tonnes", status:"active", vehicle:{id:3, vehicle_type:"Tata 407 14ft", daily_pro_rata:1786, overtime_allowance:300}}, {id:5, base_fare:1000, threshold_distances:"[2]", threshold_fares:"[0.0, 30.0]", free_waiting_mins:120, waiting_rate_per_min:5, travel_rate_per_min:5, max_waiting_charge_per_day:1500, premium_discount:0, min_premium_fare:0, vehicle_id:5, geo_region_id:1, waypoint_rate:0, night_holding_charge:1500, extra_point_charge:50, ride_time_charge:5, size:"19ft x 6ft x 7ft", capacity:"9-10 tonnes", status:"active", vehicle:{id:5, vehicle_type:"Tata 19ft", daily_pro_rata:1786, overtime_allowance:300}}, {id:11, base_fare:250, threshold_distances:"[2]", threshold_fares:"[0.0, 15.0]", free_waiting_mins:60, waiting_rate_per_min:2, travel_rate_per_min:2, max_waiting_charge_per_day:800, premium_discount:150, min_premium_fare:0, vehicle_id:8, geo_region_id:1, waypoint_rate:0, night_holding_charge:800, extra_point_charge:50, ride_time_charge:2, size:"8.2ft x 5.3ft x 4.9ft", capacity:"1.5 ton", status:"active", vehicle:{id:8, vehicle_type:"Pickup / 8ft", daily_pro_rata:1300, overtime_allowance:200}}]}}


// var map_center = {};
// j=3;
// $.get("https://survey.theporter.in/get_map_center_region?geo_region_id="+j, function(d){
// 	map_center[j] = d;
// });

var map_center = ({1:{status:200, center_lat:19.05, center_long:72.9258}, 2:{status:200, center_lat:28.677375, center_long:77.12303}, 3:{status:200, center_lat:12.9727335, center_long:77.6034737}});








// var dbound = {};

// j=1;
// $.get("https://survey.theporter.in/get_default_bounds_for_region?geo_region_id="+j, function(d){
// 	dbound[j] = d;
// });


dbound = ({1:{status:200, default_bounds:{min_lat:18.2788, min_long:72.7219, max_lat:19.6937, max_long:73.5596}}, 2:{status:200, default_bounds:{min_lat:28.236689, min_long:76.440504, max_lat:29.001574, max_long:77.682646}}, 3:{status:200, default_bounds:{min_lat:12.7913361, min_long:77.4546433, max_lat:13.1065214, max_long:77.8206253}}});





if(false) {
	var a={
	  "1": {
		"status": 200,
		"vehicle_map": [
		  {
			"id": 19,
			"base_fare": 0,
			"threshold_distances": "[]",
			"threshold_fares": "[30.0]",
			"free_waiting_mins": 0,
			"waiting_rate_per_min": 0,
			"travel_rate_per_min": 0,
			"max_waiting_charge_per_day": 0,
			"premium_discount": 0,
			"min_premium_fare": 0,
			"vehicle_id": 4,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 0,
			"extra_point_charge": 0,
			"ride_time_charge": 0,
			"size": null,
			"capacity": null,
			"status": "active",
			"vehicle": {
			  "id": 4,
			  "vehicle_type": "Tata 17ft",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 1,
			"base_fare": 200,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 15.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 150,
			"min_premium_fare": 0,
			"vehicle_id": 1,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 50,
			"ride_time_charge": 2,
			"size": "7ft x 4.5ft x 6ft",
			"capacity": "750 Kg",
			"status": "active",
			"vehicle": {
			  "id": 1,
			  "vehicle_type": "Tata Ace",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  },
		  {
			"id": 2,
			"base_fare": 400,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 25.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 4,
			"travel_rate_per_min": 4,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 0,
			"min_premium_fare": 2000,
			"vehicle_id": 2,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 50,
			"ride_time_charge": 4,
			"size": "9.5ft x 5.5ft x 6ft",
			"capacity": "2500 Kgs",
			"status": "active",
			"vehicle": {
			  "id": 2,
			  "vehicle_type": "Tata 407",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 3,
			"base_fare": 600,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 25.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 4,
			"travel_rate_per_min": 4,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 0,
			"min_premium_fare": 0,
			"vehicle_id": 3,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 50,
			"ride_time_charge": 4,
			"size": "4ft x 5.5ft x 7ft",
			"capacity": "3 tonnes",
			"status": "active",
			"vehicle": {
			  "id": 3,
			  "vehicle_type": "Tata 407 14ft",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 5,
			"base_fare": 1000,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 30.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 5,
			"travel_rate_per_min": 5,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 0,
			"min_premium_fare": 0,
			"vehicle_id": 5,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 50,
			"ride_time_charge": 5,
			"size": "19ft x 6ft x 7ft",
			"capacity": "9-10 tonnes",
			"status": "active",
			"vehicle": {
			  "id": 5,
			  "vehicle_type": "Tata 19ft",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 11,
			"base_fare": 250,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 15.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 150,
			"min_premium_fare": 0,
			"vehicle_id": 8,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 50,
			"ride_time_charge": 2,
			"size": "8.2ft x 5.3ft x 4.9ft",
			"capacity": "1.5 ton",
			"status": "active",
			"vehicle": {
			  "id": 8,
			  "vehicle_type": "Pickup \/ 8ft",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  }
		]
	  },
	  "2": {
		"status": 200,
		"vehicle_map": [
		  {
			"id": 8,
			"base_fare": 200,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 10.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 100,
			"min_premium_fare": 0,
			"vehicle_id": 7,
			"geo_region_id": 2,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 0,
			"ride_time_charge": 2,
			"size": "5.2ft x 4.8ft x 3.4ft",
			"capacity": "0.8 ton",
			"status": "active",
			"vehicle": {
			  "id": 7,
			  "vehicle_type": "Eeco",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  },
		  {
			"id": 7,
			"base_fare": 250,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 12.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 100,
			"min_premium_fare": 0,
			"vehicle_id": 6,
			"geo_region_id": 2,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 0,
			"ride_time_charge": 2,
			"size": "6.3ft x 4.7ft x 4.9ft",
			"capacity": "0.8 ton",
			"status": "active",
			"vehicle": {
			  "id": 6,
			  "vehicle_type": "Champion",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  },
		  {
			"id": 6,
			"base_fare": 300,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 12.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 100,
			"min_premium_fare": 0,
			"vehicle_id": 1,
			"geo_region_id": 2,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 0,
			"ride_time_charge": 2,
			"size": "7.2ft x 4.9ft x 4.9ft",
			"capacity": "1.0 ton",
			"status": "active",
			"vehicle": {
			  "id": 1,
			  "vehicle_type": "Tata Ace",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  },
		  {
			"id": 10,
			"base_fare": 700,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 25.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 4,
			"travel_rate_per_min": 4,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 0,
			"min_premium_fare": 0,
			"vehicle_id": 3,
			"geo_region_id": 2,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 0,
			"ride_time_charge": 4,
			"size": "13.3ft x 6.7ft x 5.9ft",
			"capacity": "3.5 ton",
			"status": "active",
			"vehicle": {
			  "id": 3,
			  "vehicle_type": "Tata 407 14ft",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  }
		]
	  },
	  "3": {
		"status": 200,
		"vehicle_map": [
		  {
			"id": 14,
			"base_fare": 250,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0,15.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 100,
			"min_premium_fare": 0,
			"vehicle_id": 9,
			"geo_region_id": 3,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 0,
			"ride_time_charge": 2,
			"size": null,
			"capacity": null,
			"status": "active",
			"vehicle": {
			  "id": 9,
			  "vehicle_type": "Pickup \/ Dost \/ Super Ace \/ 8ft",
			  "daily_pro_rata": 0,
			  "overtime_allowance": 0
			}
		  },
		  {
			"id": 18,
			"base_fare": 600,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 25.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 3,
			"travel_rate_per_min": 3,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 100,
			"min_premium_fare": 0,
			"vehicle_id": 11,
			"geo_region_id": 3,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 0,
			"ride_time_charge": 3,
			"size": null,
			"capacity": null,
			"status": "active",
			"vehicle": {
			  "id": 11,
			  "vehicle_type": "Canter \/ 14ft",
			  "daily_pro_rata": 0,
			  "overtime_allowance": 0
			}
		  },
		  {
			"id": 12,
			"base_fare": 200,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0,15.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 100,
			"min_premium_fare": 0,
			"vehicle_id": 1,
			"geo_region_id": 3,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 0,
			"ride_time_charge": 2,
			"size": "7.2ft x 4.9ft x 4.9ft",
			"capacity": "1.0 ton",
			"status": "active",
			"vehicle": {
			  "id": 1,
			  "vehicle_type": "Tata Ace",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  },
		  {
			"id": 17,
			"base_fare": 400,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 25.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 3,
			"travel_rate_per_min": 3,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 100,
			"min_premium_fare": 0,
			"vehicle_id": 2,
			"geo_region_id": 3,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 0,
			"ride_time_charge": 3,
			"size": "9.5ft x 5.5ft x 6ft",
			"capacity": "2500 Kgs",
			"status": "active",
			"vehicle": {
			  "id": 2,
			  "vehicle_type": "Tata 407",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  }
		]
	  },
	  "4": {
		"status": 200,
		"vehicle_map": [
		  {
			"id": 19,
			"base_fare": 0,
			"threshold_distances": "[]",
			"threshold_fares": "[30.0]",
			"free_waiting_mins": 0,
			"waiting_rate_per_min": 0,
			"travel_rate_per_min": 0,
			"max_waiting_charge_per_day": 0,
			"premium_discount": 0,
			"min_premium_fare": 0,
			"vehicle_id": 4,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 0,
			"extra_point_charge": 0,
			"ride_time_charge": 0,
			"size": null,
			"capacity": null,
			"status": "active",
			"vehicle": {
			  "id": 4,
			  "vehicle_type": "Tata 17ft",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 1,
			"base_fare": 200,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 15.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 150,
			"min_premium_fare": 0,
			"vehicle_id": 1,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 50,
			"ride_time_charge": 2,
			"size": "7ft x 4.5ft x 6ft",
			"capacity": "750 Kg",
			"status": "active",
			"vehicle": {
			  "id": 1,
			  "vehicle_type": "Tata Ace",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  },
		  {
			"id": 2,
			"base_fare": 400,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 25.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 4,
			"travel_rate_per_min": 4,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 0,
			"min_premium_fare": 2000,
			"vehicle_id": 2,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 50,
			"ride_time_charge": 4,
			"size": "9.5ft x 5.5ft x 6ft",
			"capacity": "2500 Kgs",
			"status": "active",
			"vehicle": {
			  "id": 2,
			  "vehicle_type": "Tata 407",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 3,
			"base_fare": 600,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 25.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 4,
			"travel_rate_per_min": 4,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 0,
			"min_premium_fare": 0,
			"vehicle_id": 3,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 50,
			"ride_time_charge": 4,
			"size": "4ft x 5.5ft x 7ft",
			"capacity": "3 tonnes",
			"status": "active",
			"vehicle": {
			  "id": 3,
			  "vehicle_type": "Tata 407 14ft",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 5,
			"base_fare": 1000,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 30.0]",
			"free_waiting_mins": 120,
			"waiting_rate_per_min": 5,
			"travel_rate_per_min": 5,
			"max_waiting_charge_per_day": 1500,
			"premium_discount": 0,
			"min_premium_fare": 0,
			"vehicle_id": 5,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 1500,
			"extra_point_charge": 50,
			"ride_time_charge": 5,
			"size": "19ft x 6ft x 7ft",
			"capacity": "9-10 tonnes",
			"status": "active",
			"vehicle": {
			  "id": 5,
			  "vehicle_type": "Tata 19ft",
			  "daily_pro_rata": 1786,
			  "overtime_allowance": 300
			}
		  },
		  {
			"id": 11,
			"base_fare": 250,
			"threshold_distances": "[2]",
			"threshold_fares": "[0.0, 15.0]",
			"free_waiting_mins": 60,
			"waiting_rate_per_min": 2,
			"travel_rate_per_min": 2,
			"max_waiting_charge_per_day": 800,
			"premium_discount": 150,
			"min_premium_fare": 0,
			"vehicle_id": 8,
			"geo_region_id": 1,
			"waypoint_rate": 0,
			"night_holding_charge": 800,
			"extra_point_charge": 50,
			"ride_time_charge": 2,
			"size": "8.2ft x 5.3ft x 4.9ft",
			"capacity": "1.5 ton",
			"status": "active",
			"vehicle": {
			  "id": 8,
			  "vehicle_type": "Pickup \/ 8ft",
			  "daily_pro_rata": 1300,
			  "overtime_allowance": 200
			}
		  }
		]
	  }
	}



}




function calmsdistace() {
	var geocoder, loca1 = "New Delhi, India", loca2 = "IIT Delhi, New Delhi, India", gDir, location1, location2;
	function initialize(){
		geocoder = new GClientGeocoder();
		gDir = new GDirections();
		GEvent.addListener(gDir, "load", function() {
			var drivingDistanceKilometers = gDir.getDistance().meters / 1000;
			var resul = "fulloc1=" + location1.address + "&loc1lat=" + location1.lat + "&loc1lon=" + location1.lon + "&fulloc2=" + location2.address + "&loc2lat=" + location2.lat + "&loc2lon=" + location2.lon + "&dist=" + drivingDistanceKilometers+"&duration_min="+(gDir.getDuration ().seconds/60)+"&time="+"";
			alert(resul);
		});
	}

	function showLocation() {
		geocoder.getLocations(loca1, function (response) {
			if (!response || response.Status.code != 200){
				alert("Sorry, we were unable to geocode the first address");
			}
			else {
				location1 = {lat: response.Placemark[0].Point.coordinates[1], lon: response.Placemark[0].Point.coordinates[0], address: response.Placemark[0].address};
				geocoder.getLocations(loca2, function (response) {
					if (!response || response.Status.code != 200){
						alert("Sorry, we were unable to geocode the second address");
					} else {
						location2 = {lat: response.Placemark[0].Point.coordinates[1], lon: response.Placemark[0].Point.coordinates[0], address: response.Placemark[0].address};
						gDir.load('from: ' + location1.address + ' to: ' + location2.address);
					}
				});
			}
		});
	}
	initialize();
	showLocation();
}

function mysplit(inp) {
	return inp=='' ? [] : inp.split(",");
}

function str2list(inp){
	var temp = mysplit(inp.substr(1,inp.length-2));
	for(var i=0; i<temp.length; i++) {
		temp[i] = parseFloat(temp[i]);
	}
	return temp;
}

var distinfo;


function sainiji(inp){
	distinfo = inp;
	inp.dist = parseFloat(inp.dist);
	inp.duration_min = parseFloat(inp.duration_min);
	fare_break();
}

function fare_break(inpvname) {
	if(inpvname == null)
		inpvname = '';

//	alert(inp.toSource());
//	inp = {dist:3.014, duration_min:9.533333333333333};
	inp = distinfo;

	var vcles = $(".vehicle_selection_block").children();
	var rid = $("#order_geo_region_id").val();
	var rvinfo = vinfo[rid].vehicle_map;
	var krvinfo = {};
	for(var i=0; i<rvinfo.length; i++) {
		krvinfo[ rvinfo[i].vehicle.vehicle_type ] = rvinfo[i];
	}
	for( var i=0; i<vcles.length; i++) {
		var vname = $(vcles[i]).find(".vehicle_name").html();
		var bfare = 100;//parseFloat(krvinfo[vname].base_fare);//1.
		var tolltax = 45;//2
		var dur_charge = inp.duration_min*parseFloat(krvinfo[vname].travel_rate_per_min);//3
		var threshold_distances = str2list(krvinfo[vname].threshold_distances);
		var threshold_fares = str2list(krvinfo[vname].threshold_fares);
		var b_km_charger = 0;
		var b_km = 0 ;
		var e_km_charger = threshold_fares[threshold_fares.length-1];
		if(threshold_fares.length > 1) {
			b_km_charger = threshold_fares[0];
			b_km = threshold_distances[0];
		}
		e_km_charger = 22;
		var my_b_charge = b_km_charger;//4
		var my_e_charge = inp.dist > b_km ? (inp.dist - b_km)*e_km_charger : 0 ;//5

		my_e_charge = my_e_charge;

		var total_charge = parseInt(bfare + tolltax + dur_charge + my_b_charge + my_e_charge);

		var needtofill = {"base_fare":bfare, "toll_tax": tolltax, "duration_charge": dur_charge, "base_km_charge": my_b_charge, "extra_km_charge": my_e_charge, "travel_duration": inp.duration_min, "travel_distance":inp.dist, "total_duration":inp.duration_min, "estimated_fare": total_charge};
		for(var j in needtofill) {
			needtofill[j] = needtofill[j].toFixed(2);
			$("."+j).html(needtofill[j]);
		}

		vcles[i].setAttribute("data-myname", vname);
		vcles[i].setAttribute("onclick", "fare_break($(this).attr('data-myname'))");

		$(vcles[i]).find(".vehicle_fare").find("span").html(total_charge);
		if(inpvname == vname)
			break;
	}
}


function fare_break1(inpvname) {
	if(inpvname == null)
		inpvname = '';

//	alert(inp.toSource());
//	inp = {dist:3.014, duration_min:9.533333333333333};
	inp = distinfo;

	var vcles = $(".vehicle_selection_block").children();
	var rid = $("#order_geo_region_id").val();
	var rvinfo = vinfo[rid].vehicle_map;
	var krvinfo = {};
	for(var i=0; i<rvinfo.length; i++) {
		krvinfo[ rvinfo[i].vehicle.vehicle_type ] = rvinfo[i];
	}
	for( var i=0; i<vcles.length; i++) {
		var vname = $(vcles[i]).find(".vehicle_name").html();
		var bfare = parseFloat(krvinfo[vname].base_fare);//1.
		var tolltax = 65;//2
		var dur_charge = inp.duration_min*parseFloat(krvinfo[vname].travel_rate_per_min);//3
		var threshold_distances = str2list(krvinfo[vname].threshold_distances);
		var threshold_fares = str2list(krvinfo[vname].threshold_fares);
		var b_km_charger = 0;
		var b_km = 0 ;
		var e_km_charger = threshold_fares[threshold_fares.length-1];
		if(threshold_fares.length > 1) {
			b_km_charger = threshold_fares[0];
			b_km = threshold_distances[0];
		}
		var my_b_charge = b_km_charger;//4
		var my_e_charge = inp.dist > b_km ? (inp.dist - b_km)*e_km_charger : 0 ;//5

		my_e_charge = my_e_charge;

		var total_charge = parseInt(bfare + tolltax + dur_charge + my_b_charge + my_e_charge);

		var needtofill = {"base_fare":bfare, "toll_tax": tolltax, "duration_charge": dur_charge, "base_km_charge": my_b_charge, "extra_km_charge": my_e_charge, "travel_duration": inp.duration_min, "travel_distance":inp.dist, "total_duration":inp.duration_min, "estimated_fare": total_charge};
		for(var j in needtofill) {
			needtofill[j] = needtofill[j].toFixed(2);
			$("."+j).html(needtofill[j]);
		}

		vcles[i].setAttribute("data-myname", vname);
		vcles[i].setAttribute("onclick", "fare_break($(this).attr('data-myname'))");

		$(vcles[i]).find(".vehicle_fare").find("span").html(total_charge);
		if(inpvname == vname)
			break;
	}
}

function req_dist() {
	var from = $("#from_address_landmark").val();
	var to = $("#to_address_landmark").val();

	$("#caldistinframe").attr("src", "caldis.php?to="+encodeURI(to)+"&from="+encodeURI(from));
}



function getorderdata(){
	var poptions = $(".preview-profile-details");
	var sform = {};
	for(var i=0; i<poptions.length; i++) {
		var keyname = $(poptions[i]).find("span")[0].innerHTML;
		sform[keyname] = $(poptions[i]).find("span")[1].innerHTML;
	}
	button.sendreq1({"data":sform, "action":"book"}, function(d){
		window.location.href = window.location.href;
	}, {});
}

